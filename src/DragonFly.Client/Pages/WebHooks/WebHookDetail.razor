@page "/webhook/{EntityId:guid}"
@page "/webhook/create"
@inherits WebHookDetailBase

@if (Entity != null)
{
    <div class="scroll-content">
        <h1>@Entity.Name</h1>

        <Toolbar Items="ToolbarItems"></Toolbar>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Id</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" @bind-value="@Entity.Id" readonly />
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" @bind-value="@Entity.Name" />
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Event</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" @bind-value="@Entity.EventName" />
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Url</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" @bind-value="@Entity.TargetUrl" />
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Headers</label>
            <div class="col-sm-10">
                <BSButton Color="BSColor.Light" OnClick="e => Entity.Headers.Add(new ())">Add</BSButton>
                @foreach(HeaderItem header in Entity.Headers)
                {
                    <div class="row">
                        <div class="col-lg">
                            <input type="text" class="form-control" @bind-value="@header.Name" />
                        </div>
                        <div class="col-lg">
                            <input type="text" class="form-control" @bind-value="@header.Value" />
                        </div>
                        <div class="col-lg-auto">
                            <BSButton Color="BSColor.Light" OnClick="e => Entity.Headers.Remove(header)" title="Remove"><i class="fas fa-times"></i></BSButton>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
}
