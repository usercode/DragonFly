@inherits FieldComponent<BlockField>

<CascadingValue Value="this">
@if (Document != null)
{
	<BlocksView Blocks="Document.Blocks" />
}
</CascadingValue>

@code {

	[CascadingParameter]
	public ContentItemDetailBase ContentItemDetail {get; set; }

	[Parameter]
	public Document Document { get; set; }

	protected override async Task OnInitializedAsync()
	{
		await base.OnInitializedAsync();

		ContentItemDetail.Saving += async () => { Field.Value = await DocumentSerializer.SerializeAsync(Document); };

		Document = await DocumentSerializer.DeserializeAsync(Field.Value);
	}
}
