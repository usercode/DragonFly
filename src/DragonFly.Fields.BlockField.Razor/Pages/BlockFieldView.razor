@inherits FieldComponent<BlockField>

<CascadingValue Value="this">
@if (Document != null)
{
	<BlocksView Blocks="Document.Blocks" />
}
</CascadingValue>

@code {

	[CascadingParameter]
	public ContentItemDetailBase ContentItemDetail {get; set; }

	[Parameter]
	public Document Document { get; set; }

	protected override void OnInitialized()
	{
		base.OnInitialized();

		ContentItemDetail.Saving += (obj, args) => { Field.Value = DocumentSerializer.Serialize(Document); };

		Document = DocumentSerializer.Deserialize(Field.Value);
	}
}
